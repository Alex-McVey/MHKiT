

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MHKiT-Python &mdash; MHKiT 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MHKiT-Matlab" href="matlab.html" />
    <link rel="prev" title="Terminology" href="terminology.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MHKiT
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MHKiT-Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-the-installation">Test the installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#qc-module">QC Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quality-control">Quality control</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utils-module">Utils Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#datetime-indices">Datetime indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wave-module">Wave Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-formats">Data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io">IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graphics">Graphics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#river-module">River Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-format">Data format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device">Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Graphics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tidal-module">Tidal module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="matlab.html">MHKiT-Matlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MHKiT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>MHKiT-Python</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/python.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="mhkit-python">
<span id="python"></span><h1>MHKiT-Python<a class="headerlink" href="#mhkit-python" title="Permalink to this headline">¶</a></h1>
<p>The MHKiT-Python repository is located at <a class="reference external" href="https://github.com/mhkit-code-hub/mhkit-python">https://github.com/mhkit-code-hub/mhkit-python</a> and
is intended to be used by researchers and practitioners that prefer Python.</p>
<p>The package contains the following modules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#qc"><span class="std std-ref">QC Module</span></a>: Perform quality control analysis</p></li>
<li><p><a class="reference internal" href="#utils"><span class="std std-ref">Utils Module</span></a>: Includes helper functions</p></li>
<li><p><a class="reference internal" href="#wave"><span class="std std-ref">Wave Module</span></a>: Calculate quantities of interest for wave energy converters (WEC)</p></li>
<li><p><a class="reference internal" href="#river"><span class="std std-ref">River Module</span></a>: Calculate quantities of interest for river energy converters (REC)</p></li>
<li><p><a class="reference internal" href="#tidal"><span class="std std-ref">Tidal module</span></a>: Calculate quantities of interest for tidal energy converters (TEC)</p></li>
</ul>
<p>The package uses Pandas data objects to store data with labelled columns and rows.
This allows the user to keep track timestamp indexes and the type of data that is in each column.
Pandas includes many options to analyze data, including methods to slice, query, upscale, and plot data.
Additionally, Pandas includes many options to load data from a wide range of formats into Pandas data objects.
MHKiT-Python users that are new to Pandas are encouraged to review the
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/index.html">Pandas getting started guide</a>.</p>
<div class="section" id="installation">
<span id="id1"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>MHKiT-Python requires Python (tested on 3.6 and 3.7) along with several Python
package dependencies.  Information on installing and using Python can be found at
<a class="reference external" href="https://www.python.org/">https://www.python.org/</a>.  Python distributions, such as Anaconda,
are recommended to manage the Python interface.
Anaconda Python distributions include the Python packages needed to run MHKiT-Python.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add user type guidance, e.g. user, developer, etc</p>
</div>
<p>MHKiT-Python can be installed using pip, git, or a downloaded zip file.</p>
<p><strong>pip:</strong> To install MHKiT-Python using pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">mhkit</span>
</pre></div>
</div>
<p><strong>git</strong>: To install MHKiT-Python using git:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">code</span><span class="o">.</span><span class="n">primre</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">mhkit</span><span class="o">/</span><span class="n">mhkit</span><span class="o">-</span><span class="n">python</span>
<span class="n">cd</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p><strong>zip file</strong>: To install MHKiT-Python using a downloaded zip file, go to <a class="reference external" href="https://code.primre.org/mhkit/mhkit-python">https://code.primre.org/mhkit/mhkit-python</a>,
select the “Download” button and then select “Download zip”.
This downloads a zip file called mhkit-python-master.zip.
The software can then be installed by unzipping the file and running setup.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
<span class="n">cd</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">master</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>Required Python package dependencies include:</p>
<ul class="simple">
<li><p><strong>Pandas</strong>: used for data storage and analysis, <a class="reference external" href="http://pandas.pydata.org">http://pandas.pydata.org</a></p></li>
<li><p><strong>Numpy</strong>: used for data storage and analysis, <a class="reference external" href="http://www.numpy.org">http://www.numpy.org</a></p></li>
<li><p><strong>Scipy</strong>: used for numerical methods, statistics, and signal processing, <a class="reference external" href="https://docs.scipy.org">https://docs.scipy.org</a></p></li>
<li><p><strong>Matplotlib</strong>: used to produce figures, <a class="reference external" href="http://matplotlib.org">http://matplotlib.org</a></p></li>
<li><p><strong>Requests</strong>: used to get data from websites, <a class="reference external" href="https://requests.readthedocs.io/">https://requests.readthedocs.io/</a></p></li>
<li><p><strong>Pecos</strong>: used for quality control analysis, <a class="reference external" href="https://pecos.readthedocs.io/">https://pecos.readthedocs.io/</a></p></li>
</ul>
</div>
<div class="section" id="test-the-installation">
<h3>Test the installation<a class="headerlink" href="#test-the-installation" title="Permalink to this headline">¶</a></h3>
<p>To test that MHKiT-Python is installed correctly, open a Python console and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mhkit</span>
</pre></div>
</div>
<p>If MHKiT-Python is installed properly, Python proceeds to the next line.
No other output is printed to the screen.</p>
<p>If MHKiT-Python is not installed properly, the user will see the following ImportError:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">mhkit</span>
</pre></div>
</div>
<p>To test a simple function in MHKiT-Python, the user can compute the equivalent
diameter and projected capture area of a circular turbine by running the following
code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ED</span><span class="p">,</span> <span class="n">AP</span><span class="p">]</span> <span class="o">=</span> <span class="n">mhkit</span><span class="o">.</span><span class="n">river</span><span class="o">.</span><span class="n">circular</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="qc-module">
<span id="qc"></span><h2>QC Module<a class="headerlink" href="#qc-module" title="Permalink to this headline">¶</a></h2>
<p>Before using the methods in the Wave, River, and Tidal modules, the input data provided by the user should undergo
proper quality control analysis to ensure that the data is of high quality and fit for the intended purpose.
Quality control analysis often includes steps to ensure that data is
not missing, corrupt, or outside of the expected range.
Additional analysis can include checking for
stagnant readings, unusual abrupt changes, or outliers.
If data does not meet specified requirements, the data points that did not pass inspection should be
removed or replaced by various means (interpolation, data from a duplicate sensor, values from a model) before using the data in analysis.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">qc</span></code> module contains a set of functions to for basic quality control analysis.
These functions are imported from <a class="reference external" href="https://pecos.readthedocs.io">Pecos</a>, an open source Python package
designed for quality control analysis of timeseries data.  Pecos was originally developed to monitor solar photovoltaic systems, but is designed to be used for a wide range of applications.</p>
<p>Note, that the quality control functions require that the data has a datatime index.
Other functionality in MHKiT-Python can use data that has datatime or numeric indexes.</p>
<div class="section" id="quality-control">
<h3>Quality control<a class="headerlink" href="#quality-control" title="Permalink to this headline">¶</a></h3>
<p>The following quality control functions are available in MHKiT-Python.
Additional functionality, including graphics and reports, can be included in quality control analysis by using Pecos directly. More information on the quality control functions be found at <a class="reference external" href="https://pecos.readthedocs.io">https://pecos.readthedocs.io</a>.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_timestamp</span></code>(data, frequency[, …])</p></td>
<td><p>Check time series for missing, non-monotonic and duplicate timestamps</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_missing</span></code>(data[, key, min_failures])</p></td>
<td><p>Check for missing data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_corrupt</span></code>(data, corrupt_values[, key, …])</p></td>
<td><p>Check for corrupt data</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_range</span></code>(data, bound[, key, min_failures])</p></td>
<td><p>Check for data that is outside expected range</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_delta</span></code>(data, bound[, key, window, …])</p></td>
<td><p>Check for stagant data and/or abrupt changes in the data using the difference between max and min values within a rolling window</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_outlier</span></code>(data, bound[, key, window, …])</p></td>
<td><p>Check for outliers using normalized data within a rolling window</p></td>
</tr>
</tbody>
</table>
<p>Each function returns the following information:</p>
<ul class="simple">
<li><p>Cleaned data (data that failed a test is replaced by NaN)</p></li>
<li><p>Boolean mask (indicates if data failed a test)</p></li>
<li><p>Summary of the quality control test results</p></li>
</ul>
<p>The clean data can be used directly in MHKiT-Python analysis, or the missing values can be replaced using various methods.
Data replacement strategies are generally defined on a case by case basis. If large sections of the data failed quality control tests, the data might not be suitable for use.
Replacement strategies can be applied to the entire data set, or vary by data column or by time.
Possible strategies include:</p>
<ul class="simple">
<li><p>Replacing missing data using linear interpolation or other polynomial approximations</p></li>
<li><p>Replacing missing data using a rolling mean of the data</p></li>
<li><p>Replacing missing data with a data from a previous period (previous day, hour, etc.)</p></li>
<li><p>Replacing missing data with data from a redundant sensor</p></li>
<li><p>Replacing missing data with values from a model</p></li>
</ul>
<p>These strategies can be accomplished using the Pandas methods <code class="docutils literal notranslate"><span class="pre">interpolate</span></code>, <code class="docutils literal notranslate"><span class="pre">replace</span></code>, and <code class="docutils literal notranslate"><span class="pre">fillna</span></code>.
See Pandas documentation for more details.</p>
<p>The <a class="reference external" href="examples/qc_example.html">quality control analysis</a> example illustrates quality control analysis using MHK data.</p>
</div>
</div>
<div class="section" id="utils-module">
<span id="utils"></span><h2>Utils Module<a class="headerlink" href="#utils-module" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add utils descriptor</p>
</div>
<div class="section" id="datetime-indices">
<h3>Datetime indices<a class="headerlink" href="#datetime-indices" title="Permalink to this headline">¶</a></h3>
<p>MHKiT-Python includes a utility function in the <code class="xref py py-class docutils literal notranslate"><span class="pre">utils</span></code> module that converts numeric indexes into datetime indexes.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index_to_datetime</span></code>(index[, unit, origin])</p></td>
<td><p>Convert DataFrame index from int/float to datetime, rounds datetime to the nearest millisecond</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="wave-module">
<span id="wave"></span><h2>Wave Module<a class="headerlink" href="#wave-module" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">wave</span></code> module contains a set of functions to
calculate quantities of interest for wave energy converters (WEC).
The wave module contains the following submodules:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code>: Loads data from standard formats</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code>: Computes resource metrics such as spectra and significant wave height</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">performance</span></code>: Computes performance metrics such as capture length matrix and mean annual energy production</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code>: Generates graphics</p></li>
</ul>
<div class="section" id="data-formats">
<h3>Data formats<a class="headerlink" href="#data-formats" title="Permalink to this headline">¶</a></h3>
<p>The wave module uses wave elevation time series data and spectra data.</p>
<ul class="simple">
<li><p><strong>Wave elevation time series data</strong> is stored as a pandas DataFrame indexed by time.
Time can be specified in datetime or in seconds.  The column names
describe the type of data in each column (for example, data from multiple sensors).</p></li>
<li><p><strong>Spectra data</strong> is stored as a pandas DataFrame index by frequency in Hz. The column names
describe the type of data in each column (for example, Bretschneider and JONSWAP spectra).</p></li>
</ul>
<p>Note that spectra data is sometimes stored in time series format (data indexed by time, with one
column for each frequency).  To convert time series format to the spectra data format,
use the pandas method <code class="docutils literal notranslate"><span class="pre">transpose</span></code>.</p>
</div>
<div class="section" id="io">
<h3>IO<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code> submodule contains the following function to load National Data Buoy Center (NDBC)
data file into a pandas DataFrame, including real time and historical data.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_NDBC_file</span></code>(file_name[, missing_values])</p></td>
<td><p>Reads a NDBC wave buoy data file (from <a class="reference external" href="https://www.ndbc.noaa.gov">https://www.ndbc.noaa.gov</a>) into a DataFrame.</p></td>
</tr>
</tbody>
</table>
<p>Pandas includes many options to load data in other formats directly into a DataFrame.</p>
</div>
<div class="section" id="resource">
<h3>Resource<a class="headerlink" href="#resource" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code> submodule contains functions compute wave energy spectra and metrics.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Are these tables helpful if they are in the API doc? Kelley things a general overview and then link to API doc would be more helpful</p>
</div>
<p>The following functions can be used to compute wave energy spectra:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">elevation_spectrum</span></code>(eta, sample_rate, nnft[, …])</p></td>
<td><p>Calculates the wave energy spectrum from wave elevation time series</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pierson_moskowitz_spectrum</span></code>(f, Tp)</p></td>
<td><p>Calculates Pierson-Moskowitz Spectrum from Tucker and Pitt (2001)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bretschneider_spectrum</span></code>(f, Tp, Hs)</p></td>
<td><p>Calculates Bretschneider Sprectrum from Tucker and Pitt (2001)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">jonswap_spectrum</span></code>(f, Tp, Hs[, gamma])</p></td>
<td><p>Calculates JONSWAP spectrum from Hasselmann et al (1973)</p></td>
</tr>
</tbody>
</table>
<p>The following functions can be used to compute wave metrics from spectra:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">surface_elevation</span></code>(S, time_index[, seed])</p></td>
<td><p>Calculates wave elevation time series from spectrum using a random phase</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">frequency_moment</span></code>(S, N)</p></td>
<td><p>Calculates the Nth frequency moment of the spectrum</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">significant_wave_height</span></code>(S)</p></td>
<td><p>Calculates wave height from spectra</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_zero_crossing_period</span></code>(S)</p></td>
<td><p>Calculates wave average zero crossing period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_crest_period</span></code>(S)</p></td>
<td><p>Calculates wave average crest period from spectra</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_wave_period</span></code>(S)</p></td>
<td><p>Calculates mean wave period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">peak_period</span></code>(S)</p></td>
<td><p>Calculates wave energy period from spectra</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_period</span></code>(S)</p></td>
<td><p>Calculates wave energy period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">spectral_bandwidth</span></code>(S)</p></td>
<td><p>Calculates bandwidth from spectra</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">spectral_width</span></code>(S)</p></td>
<td><p>Calculates wave spectral width from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_flux</span></code>(S, h[, rho, g])</p></td>
<td><p>Calculates the omnidirectional wave energy flux of the spectra</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_celerity</span></code>(k, h[, g])</p></td>
<td><p>Calculates wave celerity (group velocity)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_number</span></code>(f, h[, rho, g])</p></td>
<td><p>Calculates wave number</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">performance</span></code> submodule contains functions to compute capture length, statistics,
performance matrices, and mean annual energy production.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_length</span></code>(P, J)</p></td>
<td><p>Calculates the capture length (often called capture width).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">statistics</span></code>(X)</p></td>
<td><p>Calculates statistics, including count, mean, standard deviation (std), min, percentiles (25%, 50%, 75%), and max.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_length_matrix</span></code>(Hm0, Te, L, statistic, …)</p></td>
<td><p>Generates a capture length matrix for a given statistic</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_energy_flux_matrix</span></code>(Hm0, Te, J, …)</p></td>
<td><p>Generates a wave energy flux matrix for a given statistic</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">power_matrix</span></code>(LM, JM)</p></td>
<td><p>Generates a power matrix from a capture length matrix and wave energy flux matrix</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_annual_energy_production_timeseries</span></code>(L, J)</p></td>
<td><p>Calculates mean annual energy production (MAEP) from timeseries</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_annual_energy_production_matrix</span></code>(LM, JM, …)</p></td>
<td><p>Calculates mean annual energy production (MAEP) from matrix data along with data frequency in each bin</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="graphics">
<h3>Graphics<a class="headerlink" href="#graphics" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code> submodule contains functions to plot wave data and related metrics.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_elevation_timeseries</span></code>(eta[, ax])</p></td>
<td><p>Plot wave surface elevation time series</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_spectrum</span></code>(S[, ax])</p></td>
<td><p>Plots wave amplitude spectrum versus omega</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_matrix</span></code>(M[, xlabel, ylabel, zlabel, …])</p></td>
<td><p>Plots values in the matrix as a scatter diagram</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="river-module">
<span id="river"></span><h2>River Module<a class="headerlink" href="#river-module" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">river</span></code> module contains a set of functions to
calculate quantities of interest for river energy converters (REC).
The river module contains the following submodules:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code>: Loads data from standard formats</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code>: Computes resource metrics such as exceedance probability, velocity, and power</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>: Computes device metrics such as equivalent diameter and capture area</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code>: Generates graphics</p></li>
</ul>
<div class="section" id="data-format">
<h3>Data format<a class="headerlink" href="#data-format" title="Permalink to this headline">¶</a></h3>
<p>The river module uses discharge data.
<strong>Note, IEC/TS 62600-100 recommends that river resource calculations use 10 years of daily discharge data.</strong></p>
<ul class="simple">
<li><p><strong>Discharge time series data</strong> is stored as a pandas DataFrame indexed by time.
Time can be specified in datetime or in seconds.  The column names describe the type of data in each column.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>IO<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code> submodule contains the following functions to
load USGS Discharge data into a pandas DataFrame.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_usgs_file</span></code>(file_name)</p></td>
<td><p>Reads a USGS JSON data file (from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>) into a pandas DataFrame</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">request_usgs_data</span></code>(station, parameter, …[, …])</p></td>
<td><p>Loads USGS data directly from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a> using a GET request into a pandas DataFrame</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Resource<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code> submodule uses discharge data to compute
exeedance probability, velocity, and power.  The module also contains functions
to compute the Froude number and to fit a polynomial to a series of points.
The polynomial is used to estimate the relationship between discharge and velocity
or velocity and power at an individual turbine.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Froude_number</span></code>(v, h[, g])</p></td>
<td><p>Calculate the Froude Number of the river, channel or duct flow, to check subcritical flow assumption (if Fr &lt;1).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">polynomial_fit</span></code>(x, y, n)</p></td>
<td><p>Returns a polynomial fit for y given x of order n with an R-squared score of the fit</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">exceedance_probability</span></code>(D)</p></td>
<td><p>Calculates the exceedance probability</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">discharge_to_velocity</span></code>(D, polynomial_coefficients)</p></td>
<td><p>Calculates velocity given discharge data and the relationship between discharge and velocity at an individual turbine</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_to_power</span></code>(V, …)</p></td>
<td><p>Calculates power given velocity data and the relationship between velocity and power from an individual turbine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="device">
<h3>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code> submodule contains functions to compute equivalent diameter
and capture area for circular, ducted, rectangular, adn multiple circular devices.
A circular device is a vertical axis water turbine (VAWT). A
rectangular device is a horizontal axis water turbine. A ducted device
is an enclosed VAWT. A multiple-circular devices is a device with
multiple VAWTs per device.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">circular</span></code>(diameter)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a circular turbine</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ducted</span></code>(duct_diameter)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a ducted turbine</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rectangular</span></code>(h, w)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a retangular turbine</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">multiple_circular</span></code>(diameters)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a multiple circular turbine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Graphics<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code> submodule contains functions to plot river data and related metrics.
The functions are designed to work in parallel with the <code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code> submodule.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_flow_duration_curve</span></code>(D, F[, label, ax])</p></td>
<td><p>Plots discharge vs exceedance probability as a Flow Duration Curve (FDC)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_velocity_duration_curve</span></code>(V, F[, label, ax])</p></td>
<td><p>Plots velocity vs exceedance probability as a Velocity Duration Curve (VDC)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_power_duration_curve</span></code>(P, F[, label, ax])</p></td>
<td><p>Plots power vs exceedance probability as a Power Duration Curve (PDC)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_discharge_timeseries</span></code>(Q[, label, ax])</p></td>
<td><p>Plots discharge timeseries</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_discharge_vs_velocity</span></code>(D, V[, …])</p></td>
<td><p>Plots discharge vs velocity data along with the polynomial fit</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_velocity_vs_power</span></code>(V, P[, …])</p></td>
<td><p>Plots velocity vs power data along with the polynomial fit</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="tidal-module">
<span id="tidal"></span><h2>Tidal module<a class="headerlink" href="#tidal-module" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">tidal</span></code> module is in development and will contain a set of functions to help the user
calculate relevant quantities of interest for tidal energy converters (TEC).</p>
<p>#.. include:: apidoc/api.inc</p>
<p>#.. include:: mhkit-python/examples.inc</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="matlab.html" class="btn btn-neutral float-right" title="MHKiT-Matlab" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="terminology.html" class="btn btn-neutral float-left" title="Terminology" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, NREL, PNNL and SNL

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>